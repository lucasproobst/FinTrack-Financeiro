{% extends 'core/base.html' %}

{% block content %}
<div class="container py-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h2 class="mb-0">Minhas Contas Bancárias</h2>
    <a href="{% url 'criar_conta' %}" class="btn btn-success">
      <i class="bi bi-plus-circle me-1"></i> Nova Conta
    </a>
  </div>

  <div class="table-responsive">
    <table class="table align-middle shadow-sm rounded-4 overflow-hidden"
           style="background: rgba(255,255,255,0.05); 
                  backdrop-filter: blur(10px); 
                  border: 1px solid rgba(255,255,255,0.1); 
                  color: #f0f0f0;">

      <!-- Cabeçalho -->
      <thead style="background: rgba(0,170,255,0.12); color: #00d0ff; border-bottom: 1px solid rgba(255,255,255,0.15);">
        <tr>
          <th scope="col" class="fw-semibold">Nome</th>
          <th scope="col" class="fw-semibold">Saldo Inicial</th>
          <th scope="col" class="fw-semibold text-center">Ações</th>
        </tr>
      </thead>

      <!-- Corpo -->
      <tbody>
        {% for conta in contas %}
          <tr style="transition: background 0.3s;"
              onmouseover="this.style.background='rgba(255,255,255,0.08)';"
              onmouseout="this.style.background='transparent';">
            <td>{{ conta.nome }}</td>
            <td>R$ {{ conta.saldo_formatado }}</td>
            <td class="text-center">
              <a href="{% url 'editar_conta' conta.id %}" class="btn btn-sm btn-outline-warning me-1" title="Editar">
                <i class="bi bi-pencil-fill"></i>
              </a>
              <a href="{% url 'excluir_conta' conta.id %}" class="btn btn-sm btn-outline-danger" title="Excluir">
                <i class="bi bi-trash-fill"></i>
              </a>
            </td>
          </tr>
        {% empty %}
          <tr>
            <td colspan="3" class="text-center text-muted">Nenhuma conta cadastrada ainda.</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
